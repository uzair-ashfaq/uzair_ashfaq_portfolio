@tailwind base;
@tailwind components;
@tailwind utilities;

/* Critical: Force dark background - must override Tailwind preflight */
html, body, #root {
  background-color: #0a0a0a !important;
  color: #f5f5f0 !important;
  min-height: 100vh;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-charcoal text-offwhite antialiased;
    font-family: 'DM Sans', system-ui, sans-serif;
  }

  ::selection {
    @apply bg-gold/30 text-offwhite;
  }
}

/* Custom cursor - hidden when using touch */
@media (hover: hover) and (pointer: fine) {
  body.custom-cursor {
    cursor: none;
  }
  body.custom-cursor a,
  body.custom-cursor button {
    cursor: none;
  }
  .cursor-dot {
    pointer-events: none;
    transition: transform 0.1s ease-out;
  }
}

/* Smooth scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-charcoal;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-light rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gold-muted;
}

/* Glassmorphism base */
.glass {
  @apply bg-white/5 backdrop-blur-md border border-white/10;
}

/* Portrait wrapper - no visible square, blends seamlessly */
.portrait-wrapper {
  overflow: visible;
}

/* Dark green-black gradient behind portrait */
.portrait-bg {
  background: radial-gradient(
    ellipse 100% 120% at 50% 50%,
    rgba(18, 22, 18, 0.95) 0%,
    rgba(8, 10, 8, 0.98) 50%,
    rgba(5, 6, 5, 1) 100%
  );
  border-radius: 50%;
  filter: blur(50px);
  opacity: 0.9;
}

/* Soft glow on right - pulses */
.portrait-glow-right {
  background: radial-gradient(
    ellipse 70% 90% at 80% 45%,
    rgba(120, 140, 90, 0.12) 0%,
    rgba(201, 169, 98, 0.05) 40%,
    transparent 70%
  );
  border-radius: 50%;
  animation: glow-pulse 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes glow-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* Concentric circles - faint light green/gold emanating from center */
.portrait-circles {
  background-image: 
    radial-gradient(circle at 50% 50%, transparent 15%, rgba(100, 120, 90, 0.06) 15%, rgba(100, 120, 90, 0.06) 16%, transparent 16%),
    radial-gradient(circle at 50% 50%, transparent 32%, rgba(120, 140, 100, 0.05) 32%, rgba(120, 140, 100, 0.05) 33%, transparent 33%),
    radial-gradient(circle at 50% 50%, transparent 48%, rgba(201, 169, 98, 0.03) 48%, rgba(201, 169, 98, 0.03) 49%, transparent 49%),
    radial-gradient(circle at 50% 50%, transparent 64%, rgba(80, 95, 70, 0.04) 64%, rgba(80, 95, 70, 0.04) 65%, transparent 65%),
    radial-gradient(circle at 50% 50%, transparent 80%, rgba(60, 75, 55, 0.03) 80%, rgba(60, 75, 55, 0.03) 81%, transparent 81%);
  background-size: 100% 100%;
  background-position: center;
  pointer-events: none;
}

/* Circular frame: thick dark grey + thin light green/gold ring */
.portrait-frame {
  border-radius: 50%;
  padding: 12px;
  background: linear-gradient(145deg, #2a2e28 0%, #1c1f1a 100%);
  box-shadow: 
    inset 0 0 0 1px rgba(201, 169, 98, 0.25),
    0 0 0 1px rgba(201, 169, 98, 0.2),
    0 25px 60px rgba(0, 0, 0, 0.5);
}

/* Portrait inside circle - color match + clean circular edges */
.portrait-blend {
  position: relative;
  border-radius: 50%;
  overflow: hidden;
  /* Color grade to match dark green/charcoal background */
  filter: saturate(0.9) contrast(1.04) brightness(0.93) sepia(0.05) hue-rotate(-5deg);
  isolation: isolate;
}
.portrait-blend::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(
    ellipse 100% 100% at 50% 50%,
    transparent 50%,
    rgba(15, 18, 14, 0.15) 85%,
    rgba(8, 10, 8, 0.35) 100%
  );
  pointer-events: none;
}
.portrait-blend .portrait-img {
  filter: drop-shadow(0 15px 35px rgba(0, 0, 0, 0.4));
}

@keyframes fadeIn {
  to { opacity: 1; }
}
